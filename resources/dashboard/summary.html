<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polyverse Boost Analysis Summary</title>
    <style>
        .left-aligned {
            display: flex;
            justify-content: flex-start;
        }

        vscode-data-grid-cell[grid-column="1"] {
            min-width: 170px; /* Adjust the width as needed */
        }

        .boost-completed {
            --badge-background: var(--vscode-statusBarItem-prominentBackground);
            --badge-foreground: var(--vscode-statusBarItem-prominentForeground);
        }

        .boost-processing {
            --badge-background: var(--vscode-statusBarItem-prominentBackground);
            --badge-foreground: var(--vscode-statusBarItem-prominentForeground);
        }

        .boost-incomplete {
            --badge-background: var(--vscode-statusBarItem-warningBackground);
            --badge-foreground: var(--vscode-statusBarItem-warningForeground);
        }

        .boost-not-started {
            --badge-background: var(--vscode-statusBarItem-errorBackground);
            --badge-foreground: var(--vscode-statusBarItem-errorForeground);
        }
    </style>
</head>
<body>
    <vscode-data-grid aria-label="Summary">
        <% _.forEach(boostdata.sectionSummary, function(analysisObj) { %>
            <vscode-data-grid-row>
                <vscode-data-grid-cell grid-column="1" class="left-aligned">
                    <% if (analysisObj.analysisType === 'bugAnalysis') { %>
                        <vscode-checkbox analysis-check checked id="check-<%= analysisObj.analysisType%>">Security</vscode-checkbox>
                    <% } else if (analysisObj.analysisType === 'archblueprintCode') { %>
                        <vscode-checkbox analysis-check checked id="check-<%= analysisObj.analysisType%>">Blueprint</vscode-checkbox>
                    <% } else if (analysisObj.analysisType === 'complianceCode') { %>
                        <vscode-checkbox analysis-check checked id="check-<%= analysisObj.analysisType%>">Compliance</vscode-checkbox>
                    <% } else if (analysisObj.analysisType === 'explainCode') { %>
                        <vscode-checkbox analysis-check checked id="check-<%= analysisObj.analysisType%>">Documentation</vscode-checkbox>
                    <% } else if (analysisObj.analysisType === 'summary') { %>
                        <vscode-checkbox analysis-check disabled checked id="check-<%= analysisObj.analysisType%>">Summary</vscode-checkbox>
                    <% } else { %>
                        <vscode-checkbox analysis-check checked id="check-<%= analysisObj.analysisType%>"><%= analysisObj.analysisType %></vscode-checkbox>
                    <% } %>
                </vscode-data-grid-cell>
                <vscode-data-grid-cell grid-column="2" style="margin-left: 0px;">
                    <vscode-badge id='badge-<%= analysisObj.analysisType%>' class=<%= 'boost-' + analysisObj.status %>><%= analysisObj.filesAnalyzed.toString() + '/' + (boostdata.summary.filesToAnalyze) %></vscode-badge>
                </vscode-data-grid-cell>
                <vscode-data-grid-cell grid-column="3" id="job-<%=analysisObj.analysisType%>" hidden>
                </vscode-data-grid-cell>
            </vscode-data-grid-row>
        <% }); %>
    </vscode-data-grid>

    <div align="center">
        <vscode-button id="update-summary">Run Selected Analyses</vscode-button>
        <vscode-progress-ring id="job-progress" class="progress" hidden></vscode-progress-ring>
    </div>
    <div id="progress-text">
        Sara says:
    </div>
    <script> 
		let boostdata = "<%= JSON.stringify(boostdata) %>";
	</script>
    <script src="<%= jsSrc %>" type="module"></script>
</body>
</html>
